(()=>{var t,e,o=document.createElement("div"),i=null,c=null,n=null,d=!1,a=document.createElement("iframe"),r=".cms-container",s='[name="OpenCMSPreview"]';function u(){document.body.contains(o)||c.appendChild(o),d||(clearTimeout(n),d=!0,n=setTimeout(function(){clearTimeout(n),n=setTimeout(function(){if(!i)return d=!1;var n=document.createElement("iframe"),t=function(){var e=a.contentWindow.scrollY;n.contentWindow.scrollTo(0,e),a.remove(),d=!1,(a=n).removeEventListener("load",t)};n.className=a.className,o.appendChild(n),n.addEventListener("load",t),n.src=i.value},500)},500))}a.src="about:blank",a.className="open-cms-preview__iframe",o.classList.add("open-cms-preview"),o.appendChild(a),new MutationObserver(function(e){i=document.querySelector(s),c=document.querySelector(r);var n=[];e.forEach(function(e){e.addedNodes.forEach(function(e){o.contains(e)||1!==e.nodeType||n.push(e)})}),n.length&&(i&&c?u():document.body.contains(o)&&o.remove())}).observe(document.body,{childList:!0,subtree:!0}),t=!1,(e=document.createElement("button")).classList.add("open-cms-preview__thumb"),o.appendChild(e),e.addEventListener("mousedown",function(){t=!0,o.classList.add("dragging")}),window.addEventListener("mouseup",function(){t=!1,o.classList.remove("dragging")}),window.addEventListener("mousemove",function(n){window.requestAnimationFrame(function(){var e;t&&(e=n.clientX-10,e=window.innerWidth-e,document.body.style.setProperty("--preview-width","".concat(e,"px")))})})})();
//# sourceMappingURL=index.js.map